# ─────────────────────────────────────────────────────────────────────────────
# Haul Command — Environment Variable Contract
# Copy this file to .env.local and populate all values before running locally.
# On Vercel: add these in Project Settings → Environment Variables
#
# Required = deployment will fail or features will be broken without it.
# Optional = graceful degradation if missing.
# ─────────────────────────────────────────────────────────────────────────────

# ── Supabase (System of Record) ────────────────────────────────────────────────
# Project URL: https://app.supabase.com → Project Settings → API
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co

# Anon key (safe to expose to browser — RLS enforced on all tables)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Service role key (SERVER SIDE ONLY — never expose to browser)
# Used by: edge functions, cron jobs, admin operations
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ── Firebase (Push Delivery ONLY — see lib/push/role-lock.ts) ─────────────────
# Firebase is used strictly for FCM push delivery.
# Do NOT use Firebase for data storage or business logic.
# Config object from Firebase Console → Project Settings → General → Your apps
NEXT_PUBLIC_FIREBASE_CONFIG={"apiKey":"...","authDomain":"...","projectId":"...","storageBucket":"...","messagingSenderId":"...","appId":"..."}

# Firebase service account JSON (SERVER SIDE ONLY — for sending push from API routes)
# Paste the JSON as a single-line string
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# ── HERE Maps (Primary Heavy-Haul Routing Engine) ─────────────────────────────
# HERE is the system of record for routing. Do not replace without architecture review.
# Get key: https://platform.here.com → Access Manager → API Keys
HERE_API_KEY=your_here_api_key_here

# HERE JS API Key (browser map rendering — can be same as above)
NEXT_PUBLIC_HERE_API_KEY=your_here_api_key_here

# ── Application ─────────────────────────────────────────────────────────────────
# Public URL of the deployed app (used for OG tags, emails, push deep links)
NEXT_PUBLIC_APP_URL=https://haulcommand.com

# Internal API secret for cron endpoints (generate with: openssl rand -hex 32)
CRON_SECRET=your_random_32_char_secret_here

# ── Email (Optional — transactional email provider) ───────────────────────────
# Used for: claim notifications, digest emails, urgency alerts
# Resend: https://resend.com
RESEND_API_KEY=re_...

# From address for transactional email
EMAIL_FROM=no-reply@haulcommand.com

# ── Stripe (Optional — monetization / sponsor payments) ───────────────────────
STRIPE_SECRET_KEY=sk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ── Analytics (Optional) ──────────────────────────────────────────────────────
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# ─────────────────────────────────────────────────────────────────────────────
# VERCEL DEPLOYMENT CHECKLIST
# ─────────────────────────────────────────────────────────────────────────────
# 1. Import repo at vercel.com/new
# 2. Framework preset: Next.js (auto-detected)
# 3. Add the REQUIRED env vars above in Vercel dashboard
# 4. Click Deploy
# ─────────────────────────────────────────────────────────────────────────────
